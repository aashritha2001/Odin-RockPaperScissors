<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let getComputerChoice = () => {
            let randInt = Math.round(Math.random() * 2);
            if(randInt == 0){
                return 'ROCK';
            }
            else if(randInt == 1){
                return 'PAPER';
            }
            else{
                return 'SCISSORS';
            }
        }

        function playRound(playerSelection, computerSelection){
            let player = playerSelection.toUpperCase();
            console.log("Player: " + playerSelection );
            console.log("Computer: " + computerSelection + "\n");

            switch(true) {
                case player == computerSelection:
                    return "Tie!";
                case player == 'ROCK' && computerSelection == 'PAPER':
                    return "You lose! Paper beats Rock"; 
                case player == 'ROCK' && computerSelection == 'SCISSORS':
                    return "You won! Rock beats Scissors"; 
                case player == 'PAPER' && computerSelection == 'ROCK':
                    return "You won! Paper beats Rock";
                case player == 'PAPER' && computerSelection == 'SCISSORS':
                    return "You lose! Scissors beats Paper";  
                case player == 'SCISSORS' && computerSelection == 'ROCK':
                    return "You lose! Rock beats Scissors";
                case player == 'SCISSORS' && computerSelection == 'PAPER':
                    return "You won! Scissors beats Paper"; 
                default:
                    return "Tie !";

            }
        }

        function game(){
            let playerScore = 0;
            let computerScore = 0;
            for(let i = 0 ;i<5; i++){
                let playerInput = prompt("Please enter: ", "Blah");
                let result = playRound(playerInput, getComputerChoice());

                while(result.includes('Tie')){
                    let playerInput = prompt("Please enter: ", "Blah");
                    result = playRound(playerInput, getComputerChoice()); 
                }
                if(result.includes('lose')){
                    computerScore++;
                }
                else if(result.includes('won')){
                    playerScore++;
                }
            }
            console.log(declareWinner(playerScore, computerScore));
        }

        function declareWinner(playerScore, computerScore){
            console.log("Player Score: " + playerScore + " Computer Score: " + computerScore);
            if(playerScore > computerScore){
                return "You Won!!";
            }
            return "You lose, better luck next time!";
        }



        game();


    </script>
</body>
</html>